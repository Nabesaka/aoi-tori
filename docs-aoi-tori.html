<!DOCTYPE html>
<html lang="en"> <!-- Set this to the main language of your site -->
	<head>
		<meta charset="utf-8">
		
		<title>Return True &raquo; Aoi Tori Documentaion</title>
		
		<!-- Define a viewport for mobile devices to use - telling the browser to assume that the page is as wide as the device (width=device-width) and setting the initial page zoom level to be 1 (initial-scale=1.0) -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel='stylesheet' href='http://return-true.com/wp-content/themes/returnofthemac/assets/css/main.min.css' type='text/css' media='all' />

		<style type="text/css">
			/* Some additional styles for our docs */
			.wrap.container {
				margin-top: 30px;
			}
			.entry-content {
				padding-bottom: 30px !important; /* This is just for our docs page so we can cheat a little. Shhh, don't tell anyone. */
			}
			figure figcaption {
				padding: 15px 0 20px 0;
				text-align: center;
				color: #9b9b9b;
			}
		</style>
		
	</head>
	<body>

		<div class="wrap container">
			<div class="content row">
				<main class="main" role="main">
					<article class="hentry">
						<header>
							<h1>Aoi Tori Documentation</h1>
						</header>

						<div class="entry-content">

							<figure><img src="http://return-true.com/wp-content/uploads/2015/12/aoi-tori-wordpress_hq.png"><figcaption>Aoi Tori - A Premium Twitter Plugin for WordPress</figcaption></figure>

							<p>This is the documentation for the WordPress plugin Aoi Tori created &amp; maintained by Paul Robinson.</p>
							<p>This plugin helps you display your Twitter timeline on your website via a simple widget or, for more advanced users, a PHP function that can be placed anywhere in your active theme.</p>
							<p>Using this plugin you can easily change the colors of various Tweet features (@replies, hashtags), select a template for displaying tweets and even customize the margin/padding. For more advanced users you can add your own custom CSS (or use SCSS syntax) and even create your own template using the built in template editor.</p>

							<h3>Table of contents</h3>
							<ol class="toc">
								<li><a href="#features">Features</a></li>
								<li><a href="#requirements">Requirements</a></li>
								<li><a href="#installation">Installation</a></li>
								<li><a href="#setup">Setup</a>
									<ol>
										<li><a href="#setup-widget">Widget</a></li>
										<li><a href="#setup-function">PHP Function</a></li>
									</ol>
								</li>
								<li><a href="#usage">Usage</a></li>
								<li><a href="#options">Options</a>
									<ol>
										<li><a href="#options-api">API Keys</a></li>
										<li><a href="#options-template">Template</a></li>
										<li><a href="#options-styles">Styles</a></li>
										<li><a href="#options-css">Advanced CSS</a></li>
									</ol>
								</li>
								<li><a href="#template">Template Customization</a></li>
								<li><a href="#developers">Developers</a></li>
								<li><a href="#todo">ToDo</a>
								<li><a href="#bugs">Bugs</a>
								<li><a href="#support">Support</a></li>
								<li><a href="#license">License</a></li>
								<li><a href="#refunds">Refunds</a></li>
								<li><a href="#misc">Miscellaneous</a></li>
							</ol>

							<h2 id="features">Features</h2>
								
							<ul>
								<li>Simple authorization with Twitter</li>
								<li>Custom options page</li>
								<li>Easy to use widget</li>
								<li>PHP Function - for more advanced users</li>
								<li>Pre-Built tweet display templates</li>
								<li>Custom Templates - for more advanced users</li>
								<li>Easily customize colors</li>
								<li>Easily customize margins/paddings</li>
								<li>and more...</li>
							</ul>
							

							<h2 id="requirements">Requirements</h2>

							<p>Due to some of the technologies used in the creation of this plugin it will only work if you have the prerequisites required. There shouldn't be anything here that your host doesn't already have readily available as most of these are pretty common, but they are listed here in case you wish to query your host about them.</p>

							<ul>
								<li><strong>PHP 5.3.10</strong> or greater (PHP 5.5 is recommended)</li>
								<li><strong>cURL</strong> PHP Extension</li>
								<li><strong>cURL</strong> must be able to make <strong>HTTPS</strong> calls to securely contact Twitter</li>
							</ul>							

							<h2 id="installation">Installation</h2>
							
							<p>Because this is a premium plugin and is not hosted by the WordPress plugin directory you cannot install it by finding it in your WordPress dashboard and clicking install. Thankfully though there is still a very easy way to install this plugin.</p>

							<ol>
								<li>Login to your WordPress admin</li>
								<li>Go to <code>Plugins</code> &rarr; <code>Add New</code></li>
								<li>Click Upload Plugin</li>
								<li>Click the button and select the zip file you downloaded when you purchased the plugin</li>
								<li>Click the upload button</li>
								<li>That's it, just hit activate and the plugin will be ready for you to set up</li>
							</ol>

							<p>If you prefer, or for some reason you are unable to use the plugin upload installer, you can install the plugin the old fashioned way. Using FTP. If you are familiar with FTP this should be a cinch, but here are some quick instructions.

							<ol>
								<li>Login to your server via FTP/SFTP (SFTP is highly recommended)</li>
								<li>Navigate to the root of your WordPress install, depending on your host you may already be there, or it may be in a folder called <code>public_html</code>, <code>htdocs</code>, or <code>www</code></li>
								<li>Navigate to wp-content/plugins</li>
								<li>Upload the contents of the zip file you downloaded when purchasing the plugin into that folder</li>
								<li>Login to your WordPress admin</li>
								<li>Go To Plugins</li>
								<li>That's it, just hit activate and the plugin will be ready for you to set up</li>
							</ol>

							<p>On activation for the first time the plugin will load a splash screen to give you a brief run down of the features available. This will also be used on major updates to highlight any new features, similar to the way WordPress use it on major version updates.</p>
							
							<h2 id="setup">Setup</h2>

							<p>Setup is simple, once you have installed the plugin using the instructions above. Visit <code>Settings</code> &rarr; <code>Aoi Tori</code> to setup the plugin's options.</p>

							<p>First visit the License tab and input the license code you received when you purchased the plugin. You will have been presented with the license code on the completed purchase screen, but you will also have received it via your purchase confirmation email. This license will allow you to update the plugin for free, for life. For more information on the license please visit the License section.</p>

							<p>When you visit the plugin's option page you will see instructions on how to obtain and use your Twitter application keys. Please follow those to complete the setup of the plugin. For reference here are the instructions.</p>

							<ol>
								<li>Go to the <a href="https://apps.twitter.com/" target="t_plugin_docs_external">Twitter Application Management</a> website. Click <code>Create New App</code>.</li>
								<li>Enter details based on the following.
									<ul>
										<li><strong>Name:</strong> The name for your application. Can be whatever you wish, but cannot include the word Twitter.</li>
										<li><strong>Description:</strong> A short description for your application. Again, can be whatever you wish.</li>
										<li><strong>Website:</strong> Just enter your home web address.</li>
										<li><strong>Callback URL:</strong> Leave this field blank. <strong>If you fill this field in it <del>will</del> may cause an error, please leave it blank.</strong></li>
									</ul>
								</li>
								<li>Read &amp; agree to the developer terms and press <code>Create your Twitter application</code>.</li>
								<li>Click on the <code>Keys and Access Tokens</code> tab. Now copy:
									<ul>
										<li><strong>Consumer Key</strong></li>
										<li><strong>Consumer Secret</strong></li>
										<li><strong>Access Token</strong></li>
										<li><strong>Access Token Secret</strong></li>
									</ul>
								</li>
								<li>Go back to the plugin's options page and click the <code>API Keys</code> tab. Enter these keys in the relevent fields &amp; hit <code>Save</code></li>
								<li>After you hit <code>save</code> the page will reload. Please check the small status message displayed under the keys to see if your keys were valid or not. It should display a green message if successful. If it displays a red message please refer to the support section at the end of these docs for help.</li>
								<li>If you wish you can go back to the <a href="https://apps.twitter.com/" target="rt_plugin_docs_external">Twitter Application Management</a> and click <code>Change App Permissions</code> and set them to <code>Read only</code> as Aoi Tori does not need write permissions.</li>
							</ol>

							<p>Once you have saved the keys and they have been deemed valid you can display your Tweets on your website using 2 different methods.</p>

							<h3 id="setup-widget">Widget</h3>
							<p>You can use a widget to display your tweets. To do that follow these instructions.</p>
							<ol>
								<li>Go to <code>Appearence</code> &rarr; <code>Widgets</code></li>
								<li>Open up the widgetized area you wish to add the widget to</li>
								<li>Look for the <code>Aoi Tori Widget</code> in the list of widgets to the left</li>
								<li>Drag the widget over to the widgetized area you opened previously</li>
								<li>Adjust the options as needed</li>
							</ol>

							<h3 id="setup-function">PHP Function</h3>
							<p>More advanced users that are familiar with PHP &amp; their theme can use the PHP function provided to have the tweets output anywhere you wish, not just in a widgetized area.</p>

							<p>To use the function just use <code>twitterStreamOutput($args, $echo)</code> somewhere in your theme. I advise creating a child theme if you are using a purchased or WordPress theme directory theme as any updates will wipe edits such as this. More on creating a child theme can be found in the <a href="https://codex.wordpress.org/Child_Themes" target="rt_plugin_docs_external">WordPress Codex</a>.

							<p>More information on the parameters that can be passed to the function can be found in the Usage section.</p>

							<p><strong>Note:</strong> Currently the widget &amp; PHP function use the options you have set via the options page, other than changing the options passed to Twitter it is currently not possible to override the options page settings such as colors and template used. The ability to do this via the PHP function may be added in a future update. There are no plans to add the same feature to the widget, but if demand is high enough it may be added.</p>

							<h2 id="usage">Usage</h2>

							<p>Using the widget is very simple. Just add the widget to a widgetized area in your theme, as described above, set your options and you are ready to go. Hints are built into the widget so there is no need to reference this file if you use the widget. However if you are using the PHP function it has a few options available.</p>

							<h3><code>twitterStreamOutput(array $args, bool $echo)</code></h3>

							<p>The PHP function has two parameters. The first should be passed as an <code>Array</code> and can contain any of the options listed below. It determines the data returned from Twitter. The second parameter should be a <code>Boolean</code> and determines if the data returned should be echoed straight to the page or returned for further processing.</p>

							<div class="callout callout-warning">
								<h4>Note: Returning Data</h4>
								<p>If you choose to return the data instead of echoing it will <strong>not</strong> be passed through the templating system and will instead return the raw data from Twitter. This is so you can process the data as you wish.</p>							
							</div>

							<dl>
								<dt>screen_name</dt>
								<dd>Place a Twitter Screen Name in this option to display the tweets of that user. This can be any username, but trying to display the tweets of a private account will produce an error from Twitter. The only exception is if your tweets are private and you have created the app which authorized Twitter. <strong>Default:</strong> <code>empty</code></dd>
								<dt>count</dt>
								<dd>Determines the number of tweets returned from the Twitter timeline. This can be any number up to 3200. <strong>Default:</strong> <code>10</code></dd>
								<dt>exclude_replies</dt>
								<dd>If set to false this will exclude any tweet that starts with a reply to another Twitter screen name. Tweets that contain a mention anywhere else in the tweet will still be returned. Note that Twitter removes replies after retrieving the tweets so if this option is set to false Twitter may return less than the total number of tweets you requested. <strong>Default:</strong> <code>false</code></dd>
								<dt>include_rts</dt>
								<dd>If set to false this will exclude retweets. As with replies if this option is set to false the retweets are removed by Twitter after retrieving the tweets so Twitter may return less than the total number of tweets you requested. <strong>Default:</strong> <code>false</code></dd>
								<dt>cache_time</dt>
								<dd>Determines how long the data returned from Twitter should be cached for. Data is cached using a WordPress transient. The cache time you specify is passed to the expiration parameter of the <code>set_transient()</code> function. Since it is provided in minutes it is converted to seconds using the <code>MINUTES_IN_SECONDS</code> constant. <strong>Default:</strong> <code>30</code></dd>
							</dl>							

							<h2 id="options">Options Page</h2>

							<p>The options available in the options page are mostly self explanatory however they are listed here for a more detailed look at what each item does. They are split into their tabs. Note that the Instructions &amp; FAQ tabs are missing as they are just there for information purposes.</p>

							<h3 id="options-api">API Keys</h3>

							<dl>
								<dt>Consumer Key</dt>
								<dd>This holds the Consumer Key generated by Twitter's Application Management system. It is used (along with the 3 other keys) to authorize you with Twitter to retrieve data from their API.</dd>
								<dt>Consumer Secret</dt>
								<dd>This holds the Consumer Secret generated by Twitter's Application Management system. It is used (along with the 3 other keys) to authorize you with Twitter to retrieve data from their API.</dd>
								<dt>oAuth Access Token</dt>
								<dd>This holds the oAuth Access Token generated by Twitter's Application Management system. It is used (along with the 3 other keys) to authorize you with Twitter to retrieve data from their API.</dd>
								<dt>oAuth Access Token Secret</dt>
								<dd>This holds the oAuth Access Token Secret generated by Twitter's Application Management system. It is used (along with the 3 other keys) to authorize you with Twitter to retrieve data from their API.</dd>
								<dt>Token Validity Check</dt>
								<dd>This checks your keys by making a simple request to Twitter's verify credentials endpoint. If Twitter returns user information and a HTTP 200 then all is okay and the message turns green. If not it will go red.</dd>
							</dl> 

							<h3 id="options-template">Template</h3>

							<dl>
								<dt>Tweet Template</dt>
								<dd>Use this to select the template used when displaying tweets. There are currently 3 built-in templates to choose from.
									<ul>
										<li><strong>List Style:</strong> Uses a standard unordered list styled to have no bullet points. Your theme's default styling should take over and provide the majority of the styling needed. Some themes do not have different styling for lists in widgetized areas, if this happens please use the margin/padding options to adjust the spacing as needed.</li>
										<li><strong>Paragraph Style:</strong> Uses paragraph tags for each tweet. Good for footer widgets or areas where paragraphs would be more suitable.</li>
										<li><strong>Media Object Style:</strong> Uses a media object layout as made popular by the Bootstrap framework. The styling built into the plugin will create the Media Object layout, but your theme styling will do the rest.</li>
									</ul>
								</dd>
								<dt>Enable Custom Template</dt>
								<dd>Use this option to enable the custom template. This will override whichever built-in template has been selected with the code shown in the <code>Template Code</code> option.</dd>
								<dt>Template Code</dt>
								<dd>This box, when the option above is enabled, runs the code typed into the box through the Twig template renderer instead of the built-in template selected. There is only 1 variable available to the template, that is the <code>tweets</code> object returned by Twitter. You can see the data returned by twitter on their <a href="https://dev.twitter.com/rest/reference/get/statuses/user_timeline" target="rt_plugin_docs_external">Developers website</a>. For more information check the Custom Template section below.</dd>
							</dl>

							<h3 id="options-styles">Styles</h3>

							<dl>
								<dt>Hashtag Color</dt>
								<dd>Changes the link color of hashtags displayed in a tweet.</dd>
								<dt>Hashtag Hover Color</dt>
								<dd>Changes the hover link color of hashtags displayed in a tweet.</dd>
								<dt>@reply Color</dt>
								<dd>Changes the link color of @replys displayed in a tweet.</dd>
								<dt>@reply Hover Color</dt>
								<dd>Changes the hover link color of @replys displayed in a tweet.</dd>
								<dt>Hyperlink Color</dt>
								<dd>Changes the link color of Hyperlinks displayed in a tweet.</dd>
								<dt>Hyperlink Hover Color</dt>
								<dd>Changes the hover link color of Hyperlinks displayed in a tweet.</dd>
							</dl>

							<h3 id="options-css">Advanced CSS</h3>

							<div class="callout callout-info">
								<h4>About Margins/Paddings</h4>
								<p>Please note that the margin/padding options available rely on the classes assigned by the built-in templates. If you choose to use a custom template you will need to use the custom CSS box to apply your own CSS to your template as the margin/padding options will not be able to apply due to the lack of the correct CSS classes.</p>
							</div>

							<dl>
								<dt>Tweets Container</dt>
								<dd>
									<dl>
										<dt>Margin</dt>
										<dd>The margin applied to the container that contains all tweets. Margin is applied to the outside of the element. Must be in a valid CSS format. For example: 5px 3px 5px 3px</dd>
										<dt>Padding</dt>
										<dd>The padding applied to the container that contains all tweets. Padding is applied to the inside of the element. Must be in a valid CSS format. For example: 5px 3px 5px 3px</dd>
									</dl>
								</dd>
								<dt>Tweet Container</dt>
								<dd>
									<dl>
										<dt>Margin</dt>
										<dd>The margin applied to the container that contains a single tweet. This element is inside the Tweets container mentioned above and is repeated for each tweet found. Margin is applied to the outside of the element. Must be in a valid CSS format. For example: 5px 3px 5px 3px</dd>
										<dt>Padding</dt>
										<dd>The padding applied to the container that contains a single tweet. This element is inside the Tweets container mentioned above and is repeated for each tweet found. Padding is applied to the inside of the element. Must be in a valid CSS format. For example: 5px 3px 5px 3px</dd>
									</dl>
								</dd>
								<dt>Custom CSS</dt>
								<dd>You can use this box to add any custom CSS you like. This is a great place to put custom CSS should you wish to apply extra styling to your tweets, to customize the built-in templates, or to apply CSS to a custom template you have created. CSS entered in this box will be maintained over updates. <strong>Tip:</strong> The custom CSS box also supports the SCSS syntax so you can use features such as selector nesting.</dd>
							</dl>

							<h2 id="template">Template Customization</h2>

							<p>You can create a custom template to display your tweets using the custom template option available via the options page. The template system used is the wonderfully simple Twig templating language that a lot of developers are already familiar with. If you aren't familiar with it, it is very similar to Laravel's Blade. Discussing how to use Twig is too large a subject for this documentation so you can read more on <a href="http://twig.sensiolabs.org/documentation" target="rt_plugin_docs_external">Twig on their website</a>.</p>

							<p>The template is passed a single variable by the render method. That variable is called <code>tweets</code> and contains the raw object returned from Twitter. Because of that you have access to all of the data Twitter returned and can output any data you would like from it. To find out all of the data returned you can see a JSON version of the output on <a href="https://dev.twitter.com/rest/reference/get/statuses/user_timeline" target="rt_plugin_docs_external">Twitter's Developers website</a>. It is important to note that both objects and arrays alike are accessed through dot notation when using Twig, there is no distinction between the two.</p>

							<p>There is a example of the code you might use for a custom template already written in the box by default, please use that as a helper for how to create your own. If you would like any help with creating your own template please feel free to send a support request to <a href="mailto:support@return-true.com">support@return-true.com</a>, however note that it will not be treated as urgently as bug/support requests.</p>

							<p>Along with all of Twig's regular filters there is also one extra custom filter defined by the plugin. This filter called <code>process()</code> expects a single parameter which should be a single Tweet object, because of that it should only be used when looping through each tweet. This filter processes each tweet and replaces textual Hashtags, @replies and URL with hyperlinked versions. The filter has some extra parameters which allow you to choose if certain items should not be processed.</p>

							<h3><code>process(object tweet, bool hashtag, bool atreply, bool url)</code></h3>

							<p><code>process()</code> expects the tweet as its first parameter. The last three parameters expect a boolean (true/false) value and represent whether or not the hashtags, atreplies, and URLs should be processes respectively. They are all true by default. If set to false the textual representaion of each item will be left intact instead of converting it to a hyperlink.</p>						

							<h2 id="developers">Developers</h2>

							<p>This plugin makes use of Composer to autoload classes. Because this is a WordPress plugin and end-users may have little to no knowledge of how to use Composer, the Composer dependancies have been included in the plugin instead of requiring a <code>composer update</code> to get them. Classes are autoloaded from the vendor folder, as is usual, but they are also loaded from the lib folder. If you are tinkering and are confused as to how some Classes seem to be 'magically' available, the autoloading is the trick to that.</p>

							<p>You are free to make to make any modifications to the plugin you wish. Just remember that unless you make a custom copy you will lose any changes if the plugin is updated. You are not, however, permitted to make changes and then redistribute or sell them.</p>
							
							<h2 id="todo">ToDo</h2>

							<p>This is a list of features that are planned to be added in future versions. There is no particular order, they will just be done as I am able to get to them. Easier/simpler ones will likely be completed first as they naturally take the least amount of time.</p>

							<ul>
								<li>Add the ability to load a custom template from the currently active theme directory as a third alternative to the built-in templates and custom template box.</li>
								<li>Add ability to override options page options via the PHP function call.</li>
							</ul>

							<h2 id="bugs">Bugs</h2>

							<p>This is a list of known bugs/issues in the plugin. They will always be minor but will always be fixed in order of seriousness. The plugin will never be released/updated with a known blocking (breaking) bug. If you find a bug please use the email address shown in the support section below to email me as soon as possible.</p>

							<ul>
								<li>Partially visible URLs, generally only seen in Retweets, are hyperlinked. There may however be edge cases where they do not work correctly due to how hyperlinking is implemented. Keep an eye on this one.</li>
							</ul>

							<h2 id="support">Support</h2>

							<p>If you have any issues, problems or questions I will try my best to help you out as quickly as possible. Here are the best ways to get in touch.</p>

							<dl>
								<dt>Email</dt>
								<dd>You can email me at <a href="mailto:support@return-true.com">support@return-true.com</a>.</dd>
								<dt>Support System</dt>
								<dd>You can use our <a href="https://returntrue.freshdesk.com/support/tickets/new">support ticket system</a> to report a bug, issue, or if you are having trouble getting something to work.</dd>
							</dl>

							<p>I normally respond as soon as I can, but I give 24-72 hours (3 working days) as a benchmark time for responses.</p>

							<h2 id="license">License</h2>

							<p>The license provided with this plugin is required to allow you to update the plugin to any new version that is released. Without the license you cannot update the plugin. This license key is displayed after purchase and is set to you via email in the purchase confirmation email. Please keep it safe. If you loose it please contact support and we will try to help you out.</p>

							<p>A license will allow you to update the plugin and you may use the license on as many domains as you wish. License uses are tracked each time it is used on a new domain. Your license may be disabled without warning if it is used too activate too many domains too quickly. If this happens you will see a message when trying to save your license key, in this situation please contact support to find out more.</p>

							<h2 id="refunds">Refunds</h2>

							<p>Refunds are available within 7 days of purchase, if you change your mind. After that period a refund will only be given if you can show that the plugin is not fit for purpose and you have allowed for a reasonable attempt at fixing the issue.</p>

							<h2 id="misc">Miscellaneous</h2>

							<p>You may have noticed that this plugin has an odd name. It was originally going to be called Twitter Stream Pro as the free version of this plugin is called Twitter Stream. However the plugin is now so far from the original free version in features, and I was worried about using the name Twitter in a commercial plugin, that I decided to rename it.</p>

							<p>Aoi Tori (Kanji: 青い鳥 / Katakana: あおいとり) is Japanese for Blue Bird. I am currently learning Japanese and thought it was an interesting name for the plugin. Plus it is still related to Twitter since we all recognise the famous blue bird that Twitter use for their branding. So there you go, now you know why the plugin is called Aoi Tori.</p>

						</div>
					</article>
				</main>
			</div>
		</div>
	</body>

</html>